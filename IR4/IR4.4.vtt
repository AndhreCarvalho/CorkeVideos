WEBVTT
Kind: captions
Language: en

00:00:03.399 --> 00:00:05.500
Let’s consider a more complex case.

00:00:05.500 --> 00:00:08.889
I want to start at this particular X value.

00:00:08.889 --> 00:00:11.720
I want to finish at this particular X value.

00:00:11.720 --> 00:00:16.379
But, in between, I wanted to visit this X
value and this X value.

00:00:16.379 --> 00:00:19.810
I refer to these intermediate points as via
points.

00:00:19.810 --> 00:00:24.050
Sometimes, it’s also referred to as way
points.

00:00:24.050 --> 00:00:28.400
If a robot is going to do this particular
motion, we have a problem in that the trajectory

00:00:28.400 --> 00:00:29.789
is not smooth.

00:00:29.789 --> 00:00:34.829
At each of the points, the velocity abruptly
changes from one value to another.

00:00:34.829 --> 00:00:37.360
Here, the velocity is increasing.

00:00:37.360 --> 00:00:40.030
A moment later, the velocity is decreasing.

00:00:40.030 --> 00:00:44.230
The way we get around this problem is to introduce
what are called blends.

00:00:44.230 --> 00:00:49.390
So here, we have the motion between these
points and in red, it’s shown the blend

00:00:49.390 --> 00:00:50.390
phase.

00:00:50.390 --> 00:00:55.550
Now, this is where we introduce a smooth mathematical
curve which maintains continuity.

00:00:55.550 --> 00:01:00.190
So, initially, we accelerate on to the curve
and head towards X2.

00:01:00.190 --> 00:01:06.710
When we get near X2, we start to transition
in to the velocity we require on to the next

00:01:06.710 --> 00:01:07.710
path.

00:01:07.710 --> 00:01:12.690
So, we transition our velocity over a set
period, over what’s called the acceleration

00:01:12.690 --> 00:01:13.690
interval.

00:01:13.690 --> 00:01:20.060
So, our path now consists of segments of linear
velocity with parabolic or higher-order polynomial

00:01:20.060 --> 00:01:22.730
blends to join them together.

00:01:22.730 --> 00:01:25.810
We can consider the motion in terms of three
segments.

00:01:25.810 --> 00:01:30.740
The first segment gets us from point 1 to
point 2, second segment from point 2 to point

00:01:30.740 --> 00:01:32.720
3 and so on.

00:01:32.720 --> 00:01:36.800
Because you probably noticed by now that the
robot isn’t actually getting to the via

00:01:36.800 --> 00:01:37.800
points.

00:01:37.800 --> 00:01:41.860
It’s getting close to X2 and then it’s
going to turn to get on to the path to head

00:01:41.860 --> 00:01:42.860
towards X3.

00:01:42.860 --> 00:01:47.400
So, it misses X2 and then actually misses
X3 as well.

00:01:47.400 --> 00:01:49.680
Now, this is just a bit of a trade off.

00:01:49.680 --> 00:01:54.750
If the acceleration time is very small, then
we will go very close to the via points, but

00:01:54.750 --> 00:01:56.590
the acceleration will be very high.

00:01:56.590 --> 00:02:01.520
We’re going to have to head towards X2 and
then very, very quickly change our velocity

00:02:01.520 --> 00:02:04.450
in to the velocity we need to head towards
X3.

00:02:04.450 --> 00:02:09.429
If the acceleration time is large, then the
acceleration of the robot is much lower, but

00:02:09.429 --> 00:02:13.349
we’re going to miss the via points by a
larger amount.

00:02:13.349 --> 00:02:18.700
This is a fundamental engineering trade off
between accuracy and acceleration.

00:02:18.700 --> 00:02:23.500
Let’s create a trajectory with via points.

00:02:23.500 --> 00:02:27.900
The first point we want to visit has got a
value of 10.

00:02:27.900 --> 00:02:31.420
O último ponto que eu visito tem o valor
de 30.

00:02:31.420 --> 00:02:39.529
E, os pontos de passagem que vou definir como
40, 10 e o último.

00:02:39.529 --> 00:02:44.879
Para calcular a trajetória com pontos de passagem,eu
usei a função toolbox mstraj e

00:02:44.879 --> 00:02:46.719
tem muitos argumentos.

00:02:46.719 --> 00:02:48.790
O primeiro argumento são os pontos de passagem.

00:02:48.790 --> 00:02:54.469
O próximo argumento é a velocidade na qual
no movemos, e vai ser uma unidade por

00:02:54.469 --> 00:02:55.469
segundo.

00:02:55.469 --> 00:02:59.139
O terceiro argumento eu vou colocar como nulo
por enquanto. 

00:02:59.139 --> 00:03:03.569
E, vou colocar no primeiro local  
que queremos visitar.

00:03:03.569 --> 00:03:11.249
Vou colocar o intervalo de tempo e
o de aceleração.

00:03:11.249 --> 00:03:13.769
E, aqui está nossa trajetória.

00:03:13.769 --> 00:03:18.849
Passamos de 10 para 40, voltamos para
10 e fomos até 30.

00:03:18.849 --> 00:03:22.980
Agora, vamos ver o que acontece quando
ajustamos alguns dos parâmetros.

00:03:22.980 --> 00:03:25.930
A primeira coisa que vou fazer é aumentar
o tempo de aceleração.

00:03:25.930 --> 00:03:30.799
Então, aumentarei de 2 até 4
e podemos ver que a trajetória se tornou

00:03:30.799 --> 00:03:31.799
mais arredondada.

00:03:31.799 --> 00:03:36.819
E, podemos ver também a distância na qual
a trajetória que perde os pontos de passagem aumentou.

00:03:36.819 --> 00:03:41.279
Eu posso aumentar o tempo de aceleração ainda
mais, colocar em 8 e podemos ver de novo

00:03:41.279 --> 00:03:47.159
que a trajetória está muito mais arredondada porque
a aceleração é muito mais suave mas, a

00:03:47.159 --> 00:03:51.419
distância entre a trajetória e os pontos
de passagem aumenta ainda mais,

00:03:51.419 --> 00:03:56.750
Se eu colocar o tempo de aceleração para 0, atingiremos
exatamente os pontos de passagem mas a trajetória será

00:03:56.750 --> 00:03:58.169
descontínua.

00:03:58.169 --> 00:04:00.849
A aceleração será infinita nos pontos de
passagem.

00:04:00.849 --> 00:04:03.970
Vamos voltar a algo um pouco mais
suave.

00:04:03.970 --> 00:04:09.859
E agora, o que vou fazer é aumentar
a velocidade em que nos movemos ao longo da trajetória.

00:04:09.859 --> 00:04:14.420
Você pode ver bem agora que essa trajetória
leva aproximadamente 90 segundos para ser executada.

00:04:14.420 --> 00:04:18.800
Então, eu vou dobrar a velocidade em que
no movemos ao longo da trajetória, mudar a velocidade

00:04:18.800 --> 00:04:24.720
de 1 para 2, e agora executamos a trajetória
em pouco a menos de 50 segundos.

00:04:24.720 --> 00:04:30.210
A última coisa que vou fazer é
remover a especificação da velocidade e substituí-la

00:04:30.210 --> 00:04:32.129
por uma especificação de tempo.

00:04:32.129 --> 00:04:37.210
Vou dizer que não ligo para a velocidade 
mas, eu ligo para o tempo.

00:04:37.210 --> 00:04:40.180
E, quero especificar os tempos dos segmentos.

00:04:40.180 --> 00:04:43.070
Quero que o primeiro segmento dure por 10 segundos.

00:04:43.070 --> 00:04:45.770
Quero que o segundo segmento dure por 30 segundos.

00:04:45.770 --> 00:04:49.620
E, eu quero que o último segmento dure por 20
segundos.

00:04:49.620 --> 00:04:51.870
E agora, a trajetória parece assim.

