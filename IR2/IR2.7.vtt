WEBVTT
Kind: captions
Language: en-GB

00:00:03.620 --> 00:00:09.280
Now let's bring translation into the picture.
Coordinate frame A, Coordinate frame B which

00:00:09.280 --> 00:00:14.969
is translated and rotated with respect to
coordinate frame A and a point P. We can represent

00:00:14.969 --> 00:00:20.410
the point P by a vector with respect to frame
B and that vector can be described in terms

00:00:20.410 --> 00:00:25.059
of its components along the XB and YB axis.

00:00:25.059 --> 00:00:30.989
Now we can rotate that vector into a new frame,
coordinate frame V, and coordinate frame V

00:00:30.989 --> 00:00:36.010
has axes which are parallel to coordinate
frame A. We've already talked about how to

00:00:36.010 --> 00:00:42.280
rotate a vector from one coordinate frame
to another using a rotation matrix. And as

00:00:42.280 --> 00:00:46.710
a sanity check that we've written this expression
correctly, we noticed that these two Bs are

00:00:46.710 --> 00:00:49.649
next to each other. That's a good thing.

00:00:49.649 --> 00:00:55.569
Now let's describe the origin of coordinate
frame V with respect to coordinate frame A

00:00:55.569 --> 00:01:03.019
and we do that with a vector. That's a vector
from A to V. Now we're allowed to add vectors

00:01:03.019 --> 00:01:09.650
so we can add this vector ATV to the vector
VP to obtain the vector that describes the

00:01:09.650 --> 00:01:15.510
point P with respect to coordinate frame A.
We can do that because these two vectors are

00:01:15.510 --> 00:01:20.970
described with respect to coordinate frames
whose axes are parallel to one another. I

00:01:20.970 --> 00:01:26.470
can substitute one equation into the other
and write this. And again because these two

00:01:26.470 --> 00:01:30.700
coordinate frames are parallel I can write
this.

00:01:30.700 --> 00:01:35.220
Let's expand the vectors and matrix in this
expression and write them in terms of their

00:01:35.220 --> 00:01:40.230
elements. Now I can pull a little bit of a
trick and now write it like this. If you're

00:01:40.230 --> 00:01:45.470
unsure about this step, expand out the matrix
and convince yourself that they are exactly the same.

00:01:46.310 --> 00:01:53.200
Now this expression has got a two-element
vector and a three-element vector over here.

00:01:53.200 --> 00:01:57.650
Let's make things a little bit more symmetric
and write it like this. What we've done now

00:01:57.650 --> 00:02:05.720
is added some zeros and some ones to the bottom
row of the matrix. Previously we had a 2x2

00:02:05.720 --> 00:02:12.659
rotation matrix. Now we see that that's embedded
into the top left corner of a 3x3 matrix.

00:02:12.659 --> 00:02:17.980
And our vectors which used to have 2 elements
now have three elements. We can write this

00:02:17.980 --> 00:02:24.129
even more succinctly in this form. The notation,
the tilde, above the little p indicates that

00:02:24.129 --> 00:02:28.650
it is a homogeneous vector. It has got three
elements not two, and we'll talk about that

00:02:28.650 --> 00:02:33.709
in just a moment. The point is described with
respect to coordinate frame A by a homogeneous

00:02:33.709 --> 00:02:39.079
vector which we can obtain from the homogeneous
vector of the point with respect to coordinate

00:02:39.079 --> 00:02:43.139
frame B multiplied by this matrix.

00:02:43.139 --> 00:02:48.819
The elements of the matrix include the rotation
matrix, which is the function of the orientation;

00:02:48.819 --> 00:02:54.859
Theta, and the translation between the origin
of coordinate frame A and coordinate frame

00:02:54.859 --> 00:03:01.249
B. We have the familiar representation of
a vector in a 2-dimensional plane, two numbers

00:03:01.249 --> 00:03:07.439
A and B. The homogeneous vector has got three
elements in it. It's got A and B and an additional

00:03:07.439 --> 00:03:15.040
element which is set to 1. This we refer to
as a homogeneous transformation. It is a 3x3

00:03:15.040 --> 00:03:22.459
matrix. The homogeneous transformation matrix
T comprises a rotation matrix which is 2x2

00:03:22.459 --> 00:03:27.989
and a translation vector which is a 2x1 matrix
padded out with a couple of zeros and a one.

00:03:27.989 --> 00:03:33.579
This matrix describes a relative pose. It
describes the pose B with respect to the pose

00:03:33.579 --> 00:03:39.499
of A. All of that is encoded in this single
3x3 matrix. A mathematician would say that

00:03:39.499 --> 00:03:46.079
transformação homogênea pertence ao grupo 
Euclidiano especial da dimensão 2. Simbolicamente,

00:03:46.079 --> 00:03:51.419
diríamos que a matriz T pertence ao conjunto SE (2).

00:03:51.419 --> 00:03:58.209
Finalmente, é hora de começar a tornar reais esses 
conceitos abstratos. Pose é apenas uma matriz. Onde

00:03:58.209 --> 00:04:04.809
tínhamos o símbolo ksi antes de podermos substituir
essa matriz de transformação homogênea 3x3.

00:04:04.809 --> 00:04:11.129
Quando falamos em compor ou unir 
duas poses usando o operador O +,

00:04:11.129 --> 00:04:17.139
isso é exatamente o mesmo que multiplicar essas
duas transformações homogêneas. Nós usamos o 

00:04:17.139 --> 00:04:23.780
operador O- para indicar a negação de uma pose relativa 
ou seja, simplesmente o inverso

00:04:23.780 --> 00:04:29.449
de uma matriz de transformação homogênea. Eu
Mencionei anteriormente que o inverso de uma matriz 

00:04:29.449 --> 00:04:34.550
de rotação é igual à sua transposta. Isso não
é o caso de uma matriz de transformação homogênea

00:04:34.550 --> 00:04:41.389
homogênea. Você precisa calcular uma matriz inversa 
adequada: inverta uma matriz 3x3.

00:04:41.389 --> 00:04:47.780
Introduzimos um operador de ponto que transforma 
um vetor de um quadro de coordenadas em outro.

00:04:47.780 --> 00:04:55.550
E isso é simplesmente o produto da matriz de 
transformação homogênea e o vetor representado 

00:04:55.550 --> 00:05:01.970
na forma homogênea. Lembre-se de que o vetor homogêneo 
é obtido do vetor original

00:05:01.970 --> 00:05:08.550
P, para o vetor dois pode ser aumento ou anexamos
a ele um elemento para que tenhamos uma vetor de três

00:05:08.550 --> 00:05:08.979
componentes.

00:05:08.979 --> 00:05:14.289
Aqui estamos no MATLAB e vamos experimentar
essas matrizes de transformação homogêneas

00:05:14.289 --> 00:05:19.879
bidimencionais. Então, o que eu vou fazer é introduzir
uma função chamada transl2, que cria uma

00:05:19.879 --> 00:05:25.860
transformação homogênea representando uma
rotação pura, que é uma rotação 

00:05:25.860 --> 00:05:30.919
de 1 na direção x e 2 na direção y.

00:05:30.919 --> 00:05:36.849
Anteriormente, vimos como criar uma matriz de rotação
bidimensional, por exemplo, um giro

00:05:36.849 --> 00:05:45.669
de 30 graus é criado. Vemos que 
essa matriz de rotação é apenas 2x2 em comparação

00:05:45.669 --> 00:05:52.840
com a matriz de transformação homogênea 3x3.
Para que eu possa criar uma matriz de transformação

00:05:52.840 --> 00:06:00.490
homogênea equivalente a essa rotação fixamos 
a letra T. Esta função retorna uma

00:06:00.490 --> 00:06:06.000
matriz de transformação homogênea 3x3. Podemos 
ver a parte da matriz de rotação no

00:06:06.000 --> 00:06:12.120
canto superior esquerdo. Podemos ver que a parte da 
rotação dessa matriz é igual a zero. Essa 

00:06:12.120 --> 00:06:16.820
matriz de transformação homogênea representa uma
uma rotação pura.

00:06:17.400 --> 00:06:31.420
Agora podemos multiplicar os dois juntos. transl2, multiplique pela parte de rotação - 30 graus.

00:06:31.420 --> 00:06:38.100
E agora o que tenho é uma transformação homogênea que representa uma pose.

00:06:38.110 --> 00:06:41.790
Tem um componente rotacional e um componente translacional.

00:06:41.790 --> 00:06:45.470
Agora, a caixa de ferramentas possui uma função abreviada para conseguir isso.

00:06:45.600 --> 00:06:50.539
Passo nas partes translacionais x e y;
a parte rotacional nos dá a opção

00:06:50.539 --> 00:06:55.739
de dizer que esse ângulo é especificado em unidades
de graus. Temos exatamente a mesma matriz aqui.

00:06:56.720 --> 00:07:02.840
Agora vamos traçar essa pose em particular e ver
como ela se parece. E para fazer isso, 

00:07:02.849 --> 00:07:09.219
criarei um eixo para plotar, onde
x vai variar de 0-5 e y

00:07:09.219 --> 00:07:16.129
da mesma forma. Eu preciso definir a proporção para 
que tudo pareça razoável, então

00:07:16.129 --> 00:07:24.039
vou definir o eixo para que a proporção
seja quadrada. Vou adiar porque

00:07:24.039 --> 00:07:29.250
preciso traçar algumas poses. A primeira pose
que vou plotar vou colocar na variável de espaço de 

00:07:29.250 --> 00:07:34.919
trabalho T1 e é a pose que olhei 
há pouco: 1 na direção x,

00:07:34.919 --> 00:07:40.680
2 na direção y e rotação de 30 
graus. Aqui está uma matriz de transformação  

00:07:40.680 --> 00:07:43.669
homogênea. Agora eu vou plotar isso.

00:07:43.669 --> 00:07:50.009
Para plotar eu uso a função trplot2. O
sufixo 2 significa que é para poses

00:07:50.009 --> 00:07:57.039
bidimensionais. Passe a pose representada 
pela transformação homogênea. Eu vou plotar

00:07:57.039 --> 00:08:03.960
como um sistema chamado 1, e eu vou plotar
na cor azul. Existem algumas opções

00:08:03.960 --> 00:08:11.539
.Aqui vemos a pose plotada. Nós podemos
ver que de fato há uma componente de translação; 

00:08:11.539 --> 00:08:17.090
1 na direção x, 2 na direção y. E é 
rotacionada em relação 

00:08:17.090 --> 00:08:19.719
ao sistema de coordenadas universal.

00:08:19.719 --> 00:08:26.229
Eu posso criar outra pose facilmente. Eu
posso criar uma pose que tenha um descolamento

00:08:26.229 --> 00:08:32.469
de 2 na direção x. 1 na direção y e com
nenhuma rotação. É assim que uma transformação

00:08:32.469 --> 00:08:37.469
homogênea se parece. Agora eu vou
plotar isso. Eu vou usar a função trplot2 

00:08:37.469 --> 00:08:42.649
de novo, passo a matrix de transformação
homogênea,e eu vou plotar como um sistema de 
coordenadas

00:08:42.649 --> 00:08:49.440
chamando-o de 2. Para diferenciar, eu vou plotar
como um sistema de cor vermelha, e aqui vemos

00:08:49.440 --> 00:08:56.950
a segunda pose. Não há rotação. E tem uma 
componente translacional. 

00:08:56.950 --> 00:09:03.600
Agora eu posso compor 2 dessas poses. Eu
vou dizer que a pose 3 é igual a pose 1 composta

00:09:03.600 --> 00:09:10.450
com a pose 2. É assim que a matrix de transformação
se parece. Eu posso plotar isso. Eu vou

00:09:10.450 --> 00:09:20.160
plotar essa, trplot2, passo a matrix, vai ter
um sistema, chamado de 3 e

00:09:20.160 --> 00:09:26.000
eu vou colorir com verde. Então se eu
componho estas duas poses eu resulto com

00:09:26.000 --> 00:09:31.230
a pose 3 mostrada aqui. Um modo como podemos 
pensar sobre isso é que nós movemos 
do sistema de coordenadas universal


00:09:31.230 --> 00:09:38.700
2 para o sistema 1 que é rotacionado, e então
no sistema 1 nós movemos 2 na direção x

00:09:38.700 --> 00:09:45.320
e 1 na direção y. Mas as direções X e Y
são do sistema 1, não do sistema universal, e

00:09:45.320 --> 00:09:50.160
nos leva ao sistema chamado 3.

00:09:50.160 --> 00:09:56.740
Eu poderia compor as poses na ordem 
contrária. Eu vou criar uma nova pose T4 e 

00:09:56.740 --> 00:10:05.420
será a pose 2 composta com a pose 1. Nós
podemos ver como a matrix de transformação

00:10:05.420 --> 00:10:12.110
homogênea se parece e é diferente de T3.
Eu posso plotar isso. Eu posso passar 

00:10:12.110 --> 00:10:21.130
T4. Eu posso plotar um sistema chamado 4 e 
eu vou plotar na cor ciano. 

00:10:21.130 --> 00:10:31.260
Aqui podemos ver que o sistema 4 é resultado
da composição da pose 2 com a pose 1. Agora eu

00:10:31.260 --> 00:10:36.570
vou introduzir um ponto dentro do plote. 
Eu vou introduzir um ponto na coordenada 

00:10:36.570 --> 00:10:44.360
3, 2. Eu preciso transpor para que se torne
um vetor coluna. Aqui está. Eu posso

00:10:44.360 --> 00:10:53.040
plotar isso. Plote o ponto P, e eu vou plotar 
isso como um asterisco. Aqui nós o vemos na 

00:10:53.040 --> 00:10:59.360
nossa figura. Se eu quiser determinar a coordenada 
desse ponto em relação ao sistema 1, então

00:10:59.360 --> 00:11:08.990
o que eu preciso fazer é usar a inversa
da pose relativa 1, que é essa, e multiplicá-la

00:11:08.990 --> 00:11:14.910
pelos pontos de coordenada na forma homogênea.
Eu vou pegar o ponto P e vou acrescentar 

00:11:14.910 --> 00:11:22.649
1 a ele. O que eu tenho agora é a coordenada 
homogênea do asterisco em relação ao

00:11:22.649 --> 00:11:24.260
sistema de coordenadas 1.

